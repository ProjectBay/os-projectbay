<ng-container *ngIf="$toolbarState | async as toolbarConfig">
  <ng-container
    *ngIf="toolbarConfig.visible === true"
    [ngTemplateOutlet]="
      getToolbarTemplateRef(toolbarConfig.kind) || defaultToolbar
    "
    [ngTemplateOutletInjector]="injector"
    [ngTemplateOutletContext]="{
      toolbarConfig: toolbarConfig
    }"
  ></ng-container>
</ng-container>

<ng-template
  #defaultToolbar
  ngxMatShellToolbar
  let-toolbarConfig="toolbarConfig"
>
  <mat-toolbar>
    <button
      *ngIf="toolbarConfig.sidenavToggleVisible === true"
      (click)="ngxMatShellToolbarService.menuClicked()"
      mat-icon-button
    >
      <mat-icon>menu</mat-icon>
    </button>
  </mat-toolbar>
</ng-template>
